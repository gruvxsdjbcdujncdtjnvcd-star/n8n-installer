##### Minimal AI Stack Configuration
##### Rename this file to .env before using!

##############################################################################
# REQUIRED: Postgres Database Password (shared by n8n, Langfuse, Supabase)
##############################################################################
POSTGRES_PASSWORD=

##############################################################################
# REQUIRED: n8n Configuration
##############################################################################
N8N_ENCRYPTION_KEY=
N8N_USER_MANAGEMENT_JWT_SECRET=

##############################################################################
# REQUIRED: Langfuse Configuration
##############################################################################
CLICKHOUSE_PASSWORD=
MINIO_ROOT_PASSWORD=
LANGFUSE_SALT=
NEXTAUTH_SECRET=
ENCRYPTION_KEY=
LANGFUSE_INIT_PROJECT_PUBLIC_KEY=
LANGFUSE_INIT_PROJECT_SECRET_KEY=
LANGFUSE_INIT_USER_EMAIL=
LANGFUSE_INIT_USER_PASSWORD=

##############################################################################
# REQUIRED: Qdrant Configuration
##############################################################################
QDRANT_API_KEY=

##############################################################################
# REQUIRED: SearXNG Configuration
##############################################################################
SEARXNG_USERNAME=
SEARXNG_PASSWORD=
SEARXNG_PASSWORD_HASH=

##############################################################################
# REQUIRED: Supabase Configuration
# Generate JWT keys: https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys
##############################################################################
JWT_SECRET=
ANON_KEY=
SERVICE_ROLE_KEY=
DASHBOARD_USERNAME=
DASHBOARD_PASSWORD=

##############################################################################
# REQUIRED: Service Hostnames (for Cloudflare Tunnel)
# Example: n8n.yourdomain.com (without https://)
##############################################################################
N8N_HOSTNAME=
LANGFUSE_HOSTNAME=
QDRANT_HOSTNAME=
SEARXNG_HOSTNAME=
SUPABASE_HOSTNAME=

##############################################################################
# REQUIRED: Cloudflare Tunnel Token
# Get from: https://one.dash.cloudflare.com/ → Networks → Tunnels
##############################################################################
CLOUDFLARE_TUNNEL_TOKEN=

##############################################################################
# REQUIRED: Email for Let's Encrypt (not used with Cloudflare Tunnel)
##############################################################################
LETSENCRYPT_EMAIL=admin@example.com

##############################################################################
# OPTIONAL: Supabase Configuration
##############################################################################
SITE_URL=http://localhost:3000
API_EXTERNAL_URL=http://localhost:8000
SUPABASE_PUBLIC_URL=http://localhost:8000
ADDITIONAL_REDIRECT_URLS=
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false
ENABLE_ANONYMOUS_USERS=false
JWT_EXPIRY=3600

# Supabase Studio
STUDIO_DEFAULT_ORGANIZATION=Organization
STUDIO_DEFAULT_PROJECT=Project

# Supabase SMTP (for email confirmations)
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=supabase-mail
SMTP_PORT=2500
SMTP_USER=fake_mail_user
SMTP_PASS=fake_mail_password
SMTP_SENDER_NAME=fake_sender

# Supabase Auth URLs
MAILER_URLPATHS_CONFIRMATION="/auth/v1/verify"
MAILER_URLPATHS_INVITE="/auth/v1/verify"
MAILER_URLPATHS_RECOVERY="/auth/v1/verify"
MAILER_URLPATHS_EMAIL_CHANGE="/auth/v1/verify"

# PostgREST schemas
PGRST_DB_SCHEMAS=public,storage,graphql_public

# Functions verification
FUNCTIONS_VERIFY_JWT=false

# Docker socket location
DOCKER_SOCKET_LOCATION=/var/run/docker.sock

##############################################################################
# OPTIONAL: Langfuse Advanced Configuration
##############################################################################
TELEMETRY_ENABLED=true
LANGFUSE_ENABLE_EXPERIMENTAL_FEATURES=true
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_CLUSTER_ENABLED=false
LANGFUSE_S3_EVENT_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_EVENT_UPLOAD_REGION=auto
LANGFUSE_S3_EVENT_UPLOAD_ACCESS_KEY_ID=minio
LANGFUSE_S3_EVENT_UPLOAD_ENDPOINT=http://minio:9000
LANGFUSE_S3_EVENT_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_EVENT_UPLOAD_PREFIX=events/
LANGFUSE_S3_MEDIA_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_MEDIA_UPLOAD_REGION=auto
LANGFUSE_S3_MEDIA_UPLOAD_ACCESS_KEY_ID=minio
LANGFUSE_S3_MEDIA_UPLOAD_ENDPOINT=http://minio:9000
LANGFUSE_S3_MEDIA_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_MEDIA_UPLOAD_PREFIX=media/
AUTH_DISABLE_SIGNUP=true
LANGFUSE_INIT_ORG_ID=organization_id
LANGFUSE_INIT_ORG_NAME=Organization
LANGFUSE_INIT_PROJECT_ID=project_id
LANGFUSE_INIT_PROJECT_NAME=Project
LANGFUSE_INIT_USER_NAME=Admin

##############################################################################
# OPTIONAL: n8n Advanced Configuration
##############################################################################
N8N_BLOCK_FILE_ACCESS_TO_N8N_FILES=true
SEARXNG_UWSGI_WORKERS=4
SEARXNG_UWSGI_THREADS=4

##############################################################################
# OPTIONAL: Image processing
##############################################################################
IMGPROXY_ENABLE_WEBP_DETECTION=true
